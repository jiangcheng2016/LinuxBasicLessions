# 开发一个Flink Job

#### 1.概念

实时计算的两大典型场景：```实时ETL``` 和 ```基于窗口聚合```

```实时ETL```: 来一条计算一条

```基于窗口聚合```：对一段时间内数据进行聚合计算

#### 2.案例

```bash
# 需求：
# 通过Socket 模拟实时产生一些单词，使用Flink实时接收数据，
# 对指定时间窗口内(例如：2秒)的数据进行聚合统计，并且把时间窗口内计算的结果打印出来

```



#### 3.```Flink On YARN```

* ```Flink On YARN```模式依赖```Hadoop2.4.1```及以上版本

* ```Flink On YARN```支持两种使用方式

* ```bash
  #第一种
  在yarn中初始化一个Flink集群，以后提交任务都提交到这个Flink集群中，这个Flink集群会常驻在yarn集群中，除非手工停止。
  
  #适用
  第一种方式：适合规模小、短时间运行的任务
  
  #第二种
  每次提交任务都会创建一个
  
  #适用
  第二种方式：适合长时间运行的任务
  #第二种方式适用方法
  flink run -m yarn-cluster(创建Flink集群 + 提交任务)
  ```

* 

* ![image-20211111170526468](C:\Users\86178\AppData\Roaming\Typora\typora-user-images\image-20211111170526468.png)



